{"ast":null,"code":"var _jsxFileName = \"/home/streamv3/frontend/src/pages/Settings.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Settings.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAppContext } from '../context/AppContext';\nimport Card from '../components/UI/Card';\nimport Button from '../components/UI/Button';\nimport Spinner from '../components/UI/Spinner';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Settings = () => {\n  _s();\n  const {\n    vpnConfigs,\n    vpnLoading,\n    vpnError,\n    fetchVpnConfigs,\n    testVpnConnection,\n    deleteVpnConfig\n  } = useAppContext();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [configName, setConfigName] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadError, setUploadError] = useState(null);\n  const [testResults, setTestResults] = useState({});\n  const [isTesting, setIsTesting] = useState({});\n  const fileInputRef = useRef(null);\n\n  // Fetch VPN configs if not already loaded\n  useEffect(() => {\n    if (vpnConfigs.length === 0 && !vpnLoading) {\n      fetchVpnConfigs();\n    }\n  }, [vpnConfigs, vpnLoading, fetchVpnConfigs]);\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n\n      // Extract name from filename without extension\n      const nameWithoutExtension = file.name.replace(/\\.[^/.]+$/, \"\");\n      setConfigName(nameWithoutExtension);\n    }\n  };\n  const handleConfigNameChange = e => {\n    setConfigName(e.target.value);\n  };\n  const handleUpload = async e => {\n    e.preventDefault();\n    if (!selectedFile) {\n      setUploadError('Please select a file to upload');\n      return;\n    }\n    if (!configName.trim()) {\n      setUploadError('Please provide a name for the VPN configuration');\n      return;\n    }\n    setIsUploading(true);\n    setUploadError(null);\n    const formData = new FormData();\n    formData.append('config', selectedFile);\n    formData.append('name', configName);\n    try {\n      await api.post('/vpn/configs', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Reset form\n      setSelectedFile(null);\n      setConfigName('');\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n\n      // Refresh VPN configs\n      fetchVpnConfigs();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error uploading VPN config:', error);\n      setUploadError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to upload VPN configuration');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const handleTestConnection = async configName => {\n    setIsTesting(prev => ({\n      ...prev,\n      [configName]: true\n    }));\n    setTestResults(prev => ({\n      ...prev,\n      [configName]: null\n    }));\n    try {\n      const result = await testVpnConnection(configName);\n      setTestResults(prev => ({\n        ...prev,\n        [configName]: {\n          success: true,\n          ip: result.ip,\n          location: result.location\n        }\n      }));\n    } catch (error) {\n      console.error('Error testing VPN connection:', error);\n      setTestResults(prev => {\n        var _error$response2, _error$response2$data;\n        return {\n          ...prev,\n          [configName]: {\n            success: false,\n            error: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Connection test failed'\n          }\n        };\n      });\n    } finally {\n      setIsTesting(prev => ({\n        ...prev,\n        [configName]: false\n      }));\n    }\n  };\n  const handleDeleteConfig = async configName => {\n    if (window.confirm(`Are you sure you want to delete the VPN configuration \"${configName}\"?`)) {\n      try {\n        await deleteVpnConfig(configName);\n        // Clear test results for this config\n        setTestResults(prev => {\n          const newResults = {\n            ...prev\n          };\n          delete newResults[configName];\n          return newResults;\n        });\n      } catch (error) {\n        console.error('Error deleting VPN config:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-semibold text-gray-900\",\n        children: \"Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-gray-500\",\n        children: \"Manage your VPN configurations and system settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"VPN Configurations\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-3\",\n            children: \"Upload New VPN Configuration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleUpload,\n            className: \"space-y-4\",\n            children: [uploadError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-danger-600 bg-danger-50 p-3 rounded-md\",\n              children: uploadError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"vpn-file\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"OpenVPN Config File (.ovpn)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"vpn-file\",\n                ref: fileInputRef,\n                accept: \".ovpn\",\n                onChange: handleFileChange,\n                className: \"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"config-name\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Configuration Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"config-name\",\n                value: configName,\n                onChange: handleConfigNameChange,\n                placeholder: \"Enter a name for this VPN configuration\",\n                className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"primary\",\n                disabled: isUploading,\n                children: isUploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    size: \"sm\",\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 23\n                  }, this), \"Uploading...\"]\n                }, void 0, true) : 'Upload Configuration'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-3\",\n            children: \"Available VPN Configurations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), vpnLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-center py-8\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              size: \"md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this) : vpnError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-danger-600 bg-danger-50 p-3 rounded-md\",\n            children: [\"Error loading VPN configurations: \", vpnError]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this) : vpnConfigs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: \"No VPN configurations available. Upload one to get started.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Path\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"bg-white divide-y divide-gray-200\",\n                children: vpnConfigs.map(config => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                    children: config.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                    children: config.fullPath\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm\",\n                    children: testResults[config.name] ? testResults[config.name].success ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-success-600\",\n                        children: \"Success\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 265,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [testResults[config.name].ip, \" (\", testResults[config.name].location, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger-600\",\n                        children: \"Failed\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: testResults[config.name].error\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500\",\n                      children: \"Not tested\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-end space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"secondary\",\n                        size: \"sm\",\n                        onClick: () => handleTestConnection(config.name),\n                        disabled: isTesting[config.name],\n                        children: isTesting[config.name] ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                            size: \"sm\",\n                            className: \"mr-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 292,\n                            columnNumber: 35\n                          }, this), \"Testing...\"]\n                        }, void 0, true) : 'Test'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"danger\",\n                        size: \"sm\",\n                        onClick: () => handleDeleteConfig(config.name),\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this)]\n                }, config.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"System Settings\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500 mb-4\",\n        children: \"Configure global settings for the Kick Viewer Simulator.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"update-interval\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Update Interval (seconds)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"update-interval\",\n            min: \"1\",\n            max: \"60\",\n            defaultValue: \"5\",\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-xs text-gray-500\",\n            children: \"How often viewers should update their status and stream data.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"reconnect-interval\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Reconnect Interval (seconds)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"reconnect-interval\",\n            min: \"30\",\n            max: \"600\",\n            defaultValue: \"60\",\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-xs text-gray-500\",\n            children: \"How long to wait before attempting to reconnect a disconnected viewer.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            disabled: true,\n            children: \"Save Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-xs text-gray-500 italic\",\n            children: \"Note: Settings management is currently disabled as it requires server restart. Edit the config file directly to change these settings.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n_s(Settings, \"UhX+EGxCRhDrnIBZrEQF28VOGYo=\", false, function () {\n  return [useAppContext];\n});\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useAppContext","Card","Button","Spinner","api","jsxDEV","_jsxDEV","Fragment","_Fragment","Settings","_s","vpnConfigs","vpnLoading","vpnError","fetchVpnConfigs","testVpnConnection","deleteVpnConfig","selectedFile","setSelectedFile","configName","setConfigName","isUploading","setIsUploading","uploadError","setUploadError","testResults","setTestResults","isTesting","setIsTesting","fileInputRef","length","handleFileChange","e","file","target","files","nameWithoutExtension","name","replace","handleConfigNameChange","value","handleUpload","preventDefault","trim","formData","FormData","append","post","headers","current","error","_error$response","_error$response$data","console","response","data","message","handleTestConnection","prev","result","success","ip","location","_error$response2","_error$response2$data","handleDeleteConfig","window","confirm","newResults","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","onSubmit","htmlFor","type","id","ref","accept","onChange","placeholder","variant","disabled","size","scope","map","config","fullPath","onClick","min","max","defaultValue","_c","$RefreshReg$"],"sources":["/home/streamv3/frontend/src/pages/Settings.jsx"],"sourcesContent":["// src/pages/Settings.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAppContext } from '../context/AppContext';\nimport Card from '../components/UI/Card';\nimport Button from '../components/UI/Button';\nimport Spinner from '../components/UI/Spinner';\nimport api from '../services/api';\n\nconst Settings = () => {\n  const { vpnConfigs, vpnLoading, vpnError, fetchVpnConfigs, testVpnConnection, deleteVpnConfig } = useAppContext();\n  \n  const [selectedFile, setSelectedFile] = useState(null);\n  const [configName, setConfigName] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadError, setUploadError] = useState(null);\n  const [testResults, setTestResults] = useState({});\n  const [isTesting, setIsTesting] = useState({});\n  \n  const fileInputRef = useRef(null);\n  \n  // Fetch VPN configs if not already loaded\n  useEffect(() => {\n    if (vpnConfigs.length === 0 && !vpnLoading) {\n      fetchVpnConfigs();\n    }\n  }, [vpnConfigs, vpnLoading, fetchVpnConfigs]);\n  \n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      \n      // Extract name from filename without extension\n      const nameWithoutExtension = file.name.replace(/\\.[^/.]+$/, \"\");\n      setConfigName(nameWithoutExtension);\n    }\n  };\n  \n  const handleConfigNameChange = (e) => {\n    setConfigName(e.target.value);\n  };\n  \n  const handleUpload = async (e) => {\n    e.preventDefault();\n    \n    if (!selectedFile) {\n      setUploadError('Please select a file to upload');\n      return;\n    }\n    \n    if (!configName.trim()) {\n      setUploadError('Please provide a name for the VPN configuration');\n      return;\n    }\n    \n    setIsUploading(true);\n    setUploadError(null);\n    \n    const formData = new FormData();\n    formData.append('config', selectedFile);\n    formData.append('name', configName);\n    \n    try {\n      await api.post('/vpn/configs', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      \n      // Reset form\n      setSelectedFile(null);\n      setConfigName('');\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      \n      // Refresh VPN configs\n      fetchVpnConfigs();\n    } catch (error) {\n      console.error('Error uploading VPN config:', error);\n      setUploadError(error.response?.data?.message || 'Failed to upload VPN configuration');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  \n  const handleTestConnection = async (configName) => {\n    setIsTesting(prev => ({ ...prev, [configName]: true }));\n    setTestResults(prev => ({ ...prev, [configName]: null }));\n    \n    try {\n      const result = await testVpnConnection(configName);\n      setTestResults(prev => ({ \n        ...prev, \n        [configName]: { \n          success: true, \n          ip: result.ip, \n          location: result.location \n        } \n      }));\n    } catch (error) {\n      console.error('Error testing VPN connection:', error);\n      setTestResults(prev => ({ \n        ...prev, \n        [configName]: { \n          success: false, \n          error: error.response?.data?.message || 'Connection test failed' \n        } \n      }));\n    } finally {\n      setIsTesting(prev => ({ ...prev, [configName]: false }));\n    }\n  };\n  \n  const handleDeleteConfig = async (configName) => {\n    if (window.confirm(`Are you sure you want to delete the VPN configuration \"${configName}\"?`)) {\n      try {\n        await deleteVpnConfig(configName);\n        // Clear test results for this config\n        setTestResults(prev => {\n          const newResults = { ...prev };\n          delete newResults[configName];\n          return newResults;\n        });\n      } catch (error) {\n        console.error('Error deleting VPN config:', error);\n      }\n    }\n  };\n  \n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Settings</h1>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Manage your VPN configurations and system settings\n        </p>\n      </div>\n      \n      {/* VPN Configurations */}\n      <Card title=\"VPN Configurations\">\n        <div className=\"space-y-6\">\n          {/* Upload Form */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Upload New VPN Configuration</h3>\n            <form onSubmit={handleUpload} className=\"space-y-4\">\n              {uploadError && (\n                <div className=\"text-sm text-danger-600 bg-danger-50 p-3 rounded-md\">\n                  {uploadError}\n                </div>\n              )}\n              \n              <div>\n                <label htmlFor=\"vpn-file\" className=\"block text-sm font-medium text-gray-700\">\n                  OpenVPN Config File (.ovpn)\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"vpn-file\"\n                  ref={fileInputRef}\n                  accept=\".ovpn\"\n                  onChange={handleFileChange}\n                  className=\"mt-1 block w-full text-sm text-gray-500\n                    file:mr-4 file:py-2 file:px-4\n                    file:rounded-md file:border-0\n                    file:text-sm file:font-medium\n                    file:bg-primary-50 file:text-primary-700\n                    hover:file:bg-primary-100\"\n                />\n              </div>\n              \n              <div>\n                <label htmlFor=\"config-name\" className=\"block text-sm font-medium text-gray-700\">\n                  Configuration Name\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"config-name\"\n                  value={configName}\n                  onChange={handleConfigNameChange}\n                  placeholder=\"Enter a name for this VPN configuration\"\n                  className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n                />\n              </div>\n              \n              <div>\n                <Button\n                  type=\"submit\"\n                  variant=\"primary\"\n                  disabled={isUploading}\n                >\n                  {isUploading ? (\n                    <>\n                      <Spinner size=\"sm\" className=\"mr-2\" />\n                      Uploading...\n                    </>\n                  ) : (\n                    'Upload Configuration'\n                  )}\n                </Button>\n              </div>\n            </form>\n          </div>\n          \n          {/* VPN Configs List */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Available VPN Configurations</h3>\n            \n            {vpnLoading ? (\n              <div className=\"flex justify-center items-center py-8\">\n                <Spinner size=\"md\" />\n              </div>\n            ) : vpnError ? (\n              <div className=\"text-sm text-danger-600 bg-danger-50 p-3 rounded-md\">\n                Error loading VPN configurations: {vpnError}\n              </div>\n            ) : vpnConfigs.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                No VPN configurations available. Upload one to get started.\n              </div>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th\n                        scope=\"col\"\n                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        Name\n                      </th>\n                      <th\n                        scope=\"col\"\n                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        Path\n                      </th>\n                      <th\n                        scope=\"col\"\n                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        Status\n                      </th>\n                      <th\n                        scope=\"col\"\n                        className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        Actions\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {vpnConfigs.map((config) => (\n                      <tr key={config.name}>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                          {config.name}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {config.fullPath}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                          {testResults[config.name] ? (\n                            testResults[config.name].success ? (\n                              <div>\n                                <span className=\"text-success-600\">Success</span>\n                                <div className=\"text-xs text-gray-500\">\n                                  {testResults[config.name].ip} ({testResults[config.name].location})\n                                </div>\n                              </div>\n                            ) : (\n                              <div>\n                                <span className=\"text-danger-600\">Failed</span>\n                                <div className=\"text-xs text-gray-500\">\n                                  {testResults[config.name].error}\n                                </div>\n                              </div>\n                            )\n                          ) : (\n                            <span className=\"text-gray-500\">Not tested</span>\n                          )}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                          <div className=\"flex justify-end space-x-2\">\n                            <Button\n                              variant=\"secondary\"\n                              size=\"sm\"\n                              onClick={() => handleTestConnection(config.name)}\n                              disabled={isTesting[config.name]}\n                            >\n                              {isTesting[config.name] ? (\n                                <>\n                                  <Spinner size=\"sm\" className=\"mr-1\" />\n                                  Testing...\n                                </>\n                              ) : (\n                                'Test'\n                              )}\n                            </Button>\n                            <Button\n                              variant=\"danger\"\n                              size=\"sm\"\n                              onClick={() => handleDeleteConfig(config.name)}\n                            >\n                              Delete\n                            </Button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </div>\n      </Card>\n      \n      {/* System Settings (Optional) */}\n      <Card title=\"System Settings\">\n        <p className=\"text-sm text-gray-500 mb-4\">\n          Configure global settings for the Kick Viewer Simulator.\n        </p>\n        \n        <form className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"update-interval\" className=\"block text-sm font-medium text-gray-700\">\n              Update Interval (seconds)\n            </label>\n            <input\n              type=\"number\"\n              id=\"update-interval\"\n              min=\"1\"\n              max=\"60\"\n              defaultValue=\"5\"\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n            />\n            <p className=\"mt-1 text-xs text-gray-500\">\n              How often viewers should update their status and stream data.\n            </p>\n          </div>\n          \n          <div>\n            <label htmlFor=\"reconnect-interval\" className=\"block text-sm font-medium text-gray-700\">\n              Reconnect Interval (seconds)\n            </label>\n            <input\n              type=\"number\"\n              id=\"reconnect-interval\"\n              min=\"30\"\n              max=\"600\"\n              defaultValue=\"60\"\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n            />\n            <p className=\"mt-1 text-xs text-gray-500\">\n              How long to wait before attempting to reconnect a disconnected viewer.\n            </p>\n          </div>\n          \n          <div className=\"pt-4\">\n            <Button variant=\"primary\" disabled>\n              Save Settings\n            </Button>\n            <p className=\"mt-2 text-xs text-gray-500 italic\">\n              Note: Settings management is currently disabled as it requires server restart.\n              Edit the config file directly to change these settings.\n            </p>\n          </div>\n        </form>\n      </Card>\n    </div>\n  );\n};\n\nexport default Settings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}